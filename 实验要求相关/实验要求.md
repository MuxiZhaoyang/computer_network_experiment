实验6    网络编程：简易即时通信工具开发 
一、实验目标 
开发一个简易即时通信工具，支持通过UDP 广播在局域网内自动发现聊天组成
员，且无需中心服务器转发。软件启动时自动通过关键字搜索本局域网的组
员，支持一对一消息通信、广播消息和文件传输功能。 
二、实验功能要求 1.  自动发现聊天组（使用UDP 广播） 
o 功能描述： 客户端启动时通过UDP 广播发送包含特定关键字的消
息，局域网内的其他客户端接收到广播消息后，通过返回自身的
IP 和端口信息响应，从而实现自动发现聊天组成员。 
o 关键点： 
 广播地址使用 255.255.255.255，确保广播范围仅限于本
地局域网。 
 每个客户端接收到消息后检查是否符合指定的关键字，如
果匹配，则返回自己的IP 和端口，加入聊天组。 
 所有组员通过响应消息更新彼此的成员列表，形成P2P 通
信网络。 2.  一对一消息传输 
o 功能描述： 客户端能够向指定组员发送即时消息。每个客户端可
选择目标组员进行一对一消息交换。 
o 关键点： 
 通过UDP 协议向指定IP 和端口发送即时消息。 
 接收方收到消息后展示内容。 
 消息不保证可靠性，UDP 协议适用于快速消息传递。 3.  广播消息 
o 功能描述： 每个客户端可以向所有在线成员广播即时消息。广播
消息将被所有组员接收，并展示内容。 
o 关键点： 
 每个客户端向所有在线组员广播消息。 
 所有成员接收到消息后展示该消息。 
 消息不保证可靠性，UDP 协议适用于快速的广播消息传
递。 4.  文件传输 
o 功能描述： 客户端能够选择文件，通过TCP 协议将文件传输给指
定的组员。文件传输需要确保可靠性，且可以传输较大的文件。 
o 关键点： 
 客户端选择文件后，通过TCP 协议将文件分块发送给目标
客户端。 
 接收方保存接收到的文件，确保文件传输的完整性。 
 文件传输采用TCP 协议以保证数据的可靠性和顺序。 5.  组员管理 
o 功能描述： 使用UDP 广播机制动态发现组员，客户端启动时会向
局域网内发送广播消息，其他客户端响应并返回自己的IP 和端口
信息。退出时，可以通过广播通知其他组员自己已离开。 
o 关键点： 
 每个客户端维护一份本地成员列表，记录所有在线组员的
IP 和端口。 
 在启动时自动发现组员，在退出时通知其他组员更新成员
列表。 6.  手动刷新组员列表 
o 功能描述： 客户端可以手动刷新组员列表，通过触发UDP 广播请
求来更新当前的组员信息，而不是自动定期刷新。 
o 关键点： 
 客户端可以在需要时通过手动操作触发广播，重新搜索并
更新成员列表。 
 该功能允许用户在组员变动时及时获取最新的组员信息。 7.  界面设计与整合 
o 功能描述： 提供简洁直观的用户界面，用于显示聊天组信息、组
员列表、聊天内容、文件传输状态等。 
o 关键点： 
 设计主界面，展示聊天窗口、组员列表、消息输入框等。 
 动态更新组员列表、消息展示窗口以及文件传输进度条。 
 确保所有功能模块（如广播、文件传输、刷新）在界面中
能够清晰使用。 
三、实现分工 1.  成员一：自动发现聊天组（UDP 广播） 
• 负责通过UDP 广播来实现客户端间的组员发现与加入功能。 
• 更新并维护组员列表，确保正确识别并响应其他客户端的广播消息。 2.  成员二：一对一消息传输 
• 负责实现客户端之间一对一即时消息的发送和接收功能，确保消息能够
正确显示在接收方界面。 3.  成员三：广播消息 
• 负责实现客户端间的广播消息功能，确保每个在线客户端能够接收并展
示来自其他客户端的广播消息。 
4.  成员四：文件传输（TCP 协议） 
• 负责实现文件选择、分块发送以及TCP 协议下的文件传输，支持进度条
展示和文件接收功能。 5.  成员五：组员管理 
• 负责实现组员的管理功能，包括发现、加入、退出的管理。 
• 处理组员退出时的广播通知，以及组员列表的更新与展示。 6.  成员六：手动刷新组员列表 
• 负责实现手动刷新功能，当用户点击刷新按钮时，通过广播重新查找并
更新组员列表。 
• 确保刷新后的组员列表能够在界面中即时显示。 7.  成员七：界面整合与设计 
• 负责整合各个功能模块，设计用户界面，包括聊天窗口、组员列表、消
息输入框、文件传输进度条等。 
• 确保所有功能都能在界面中流畅运行，且界面简洁易用。